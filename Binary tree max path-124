class Solution {
public:
    int maxSum=INT_MIN;
    int helper(TreeNode *root){
        if (root==nullptr){
            return 0;
        }
        int left=max(0,helper(root->left));
        int right=max(0,helper(root->right));

        int currentsum=root->val+left+right;
        maxSum=max(maxSum,currentsum);
        return root->val+max(left,right);
    }
    int maxPathSum(TreeNode* root) {
        helper(root);
        return maxSum;
    }
};
